{"ast":null,"code":"var _jsxFileName = \"D:\\\\ad\\\\Adminka\\\\src\\\\components\\\\pages\\\\StatisticsPage\\\\Hoteliers\\\\HoteliersList\\\\HoteliersList.tsx\",\n  _s = $RefreshSig$();\nimport { memo, useCallback, useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { fetchHotelsById } from \"features/hoteliers/hoteliersOperation\";\nimport { useAppDispatch } from 'App';\nimport { selectorHoteliers } from \"features/hoteliers/hoteliersSelectors\";\nimport { Spinner } from \"components/shared/Loader\";\nimport { Inner, TextContent, TextID, Wrapper, WrapperText } from \"./HoteliersList.styled\";\nimport likeIcon from '../../../../../assets/icons/like.svg';\nimport dislikeIcon from '../../../../../assets/icons/dislike.svg';\nimport { AccountHotelier } from \"../AccountHotelier/AccountHotelier\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const HoteliersList = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n  let {\n    type,\n    isShowHotelier,\n    setIsShowHotelier,\n    isClicked,\n    setIsClicked\n  } = _ref;\n  const dispatch = useAppDispatch();\n  const {\n    hoteliers,\n    isLoadingHotels\n  } = useSelector(selectorHoteliers);\n  const [searchQuery, setSearchQuery] = useState('');\n  const handleClick = useCallback(event => {\n    const {\n      target\n    } = event;\n    if (target instanceof HTMLDivElement || target instanceof HTMLParagraphElement || target instanceof HTMLLIElement) {\n      const index = Number(target.dataset.id);\n      if (!isClicked) {\n        setIsShowHotelier(index);\n        setIsClicked(true);\n      }\n    }\n  }, [isClicked, setIsShowHotelier, setIsClicked]);\n  useEffect(() => {\n    if (hoteliers.length > 0) hoteliers.map(_ref2 => {\n      let {\n        owner\n      } = _ref2;\n      return dispatch(fetchHotelsById(owner));\n    });\n    // eslint-disable-next-line\n  }, [dispatch]);\n  const handleSearch = () => {\n    const filteredHoteliers = searchQuery ? hoteliers.filter(hotelier => {\n      var _hotelier$hotels;\n      return (_hotelier$hotels = hotelier.hotels) === null || _hotelier$hotels === void 0 ? void 0 : _hotelier$hotels.some(hotel => hotel.toLowerCase().includes(searchQuery.toLowerCase()));\n    }) : hoteliers;\n    console.log(filteredHoteliers);\n  };\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search Hoteliers by Name\",\n      value: searchQuery,\n      onChange: e => setSearchQuery(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleSearch,\n      children: \"ss\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), hoteliers.length > 0 && hoteliers.map((_ref3, index) => {\n      let {\n        owner,\n        hotels,\n        status\n      } = _ref3;\n      return /*#__PURE__*/_jsxDEV(Inner, {\n        border: isShowHotelier === index,\n        hidden: isShowHotelier !== index && isShowHotelier !== null,\n        position: isShowHotelier !== null,\n        tabIndex: index,\n        children: [/*#__PURE__*/_jsxDEV(TextID, {\n          tabIndex: index,\n          children: [\"ID \", owner]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(WrapperText, {\n          tabIndex: index,\n          typePage: type,\n          children: /*#__PURE__*/_jsxDEV(TextContent, {\n            tabIndex: index,\n            children: [isLoadingHotels && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this), !isLoadingHotels && isShowHotelier !== index && (hotels && hotels.length > 6 ? hotels.slice(0, 6).join(' ') : hotels === null || hotels === void 0 ? void 0 : hotels.join(' ')), !isLoadingHotels && isShowHotelier !== index && hotels && hotels.length > 0 && '...', isShowHotelier === index && type && type === 'Finance' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [hotels === null || hotels === void 0 ? void 0 : hotels.join(' '), /*#__PURE__*/_jsxDEV(AccountHotelier, {\n                id: owner\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: 'auto',\n            paddingLeft: '20px'\n          },\n          children: status === 'active' ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: likeIcon,\n            alt: \"like\",\n            width: \"20px\",\n            height: \"20px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: dislikeIcon,\n            alt: \"dislike\",\n            width: \"20px\",\n            height: \"20px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, owner, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}, \"xvu86bWPlkVWFF6eEOjFx5sBjLI=\", false, function () {\n  return [useAppDispatch, useSelector];\n})), \"xvu86bWPlkVWFF6eEOjFx5sBjLI=\", false, function () {\n  return [useAppDispatch, useSelector];\n});\n_c2 = HoteliersList;\nvar _c, _c2;\n$RefreshReg$(_c, \"HoteliersList$memo\");\n$RefreshReg$(_c2, \"HoteliersList\");","map":{"version":3,"names":["memo","useCallback","useEffect","useState","useSelector","fetchHotelsById","useAppDispatch","selectorHoteliers","Spinner","Inner","TextContent","TextID","Wrapper","WrapperText","likeIcon","dislikeIcon","AccountHotelier","jsxDEV","_jsxDEV","Fragment","_Fragment","HoteliersList","_s","_c","_ref","type","isShowHotelier","setIsShowHotelier","isClicked","setIsClicked","dispatch","hoteliers","isLoadingHotels","searchQuery","setSearchQuery","handleClick","event","target","HTMLDivElement","HTMLParagraphElement","HTMLLIElement","index","Number","dataset","id","length","map","_ref2","owner","handleSearch","filteredHoteliers","filter","hotelier","_hotelier$hotels","hotels","some","hotel","toLowerCase","includes","console","log","onClick","children","placeholder","value","onChange","e","fileName","_jsxFileName","lineNumber","columnNumber","_ref3","status","border","hidden","position","tabIndex","typePage","slice","join","style","marginLeft","paddingLeft","src","alt","width","height","_c2","$RefreshReg$"],"sources":["D:/ad/Adminka/src/components/pages/StatisticsPage/Hoteliers/HoteliersList/HoteliersList.tsx"],"sourcesContent":["import { memo, useCallback, useEffect, useState } from \"react\";\nimport {useSelector } from \"react-redux\";\nimport {fetchHotelsById } from \"features/hoteliers/hoteliersOperation\";\nimport { useAppDispatch } from 'App';\nimport { selectorHoteliers } from \"features/hoteliers/hoteliersSelectors\";\nimport { Spinner } from \"components/shared/Loader\";\nimport { Inner, TextContent, TextID, Wrapper, WrapperText } from \"./HoteliersList.styled\";\nimport likeIcon from '../../../../../assets/icons/like.svg';\nimport dislikeIcon from '../../../../../assets/icons/dislike.svg';\nimport { AccountHotelier } from \"../AccountHotelier/AccountHotelier\";\n\ntype Prop = {\n  type?: string;\n  isShowHotelier: number | null;\n  setIsShowHotelier: React.Dispatch<React.SetStateAction<number | null>>;\n  isClicked: boolean;\n  setIsClicked: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\ntype HandleClick = (event: React.MouseEvent<HTMLUListElement>) => void;\n\nexport const HoteliersList: React.FC<Prop> = memo(\n  ({\n  type,\n  isShowHotelier,\n  setIsShowHotelier,\n  isClicked,\n  setIsClicked,\n}) => {\n  const dispatch = useAppDispatch();\n    const { hoteliers, isLoadingHotels } = useSelector(selectorHoteliers);\n    const [searchQuery, setSearchQuery] = useState<string>('');\n    const handleClick: HandleClick = useCallback(\n      event => {\n    const { target } = event;\n    if (\n      target instanceof HTMLDivElement ||\n      target instanceof HTMLParagraphElement ||\n      target instanceof HTMLLIElement\n    ) {\n      const index = Number(target.dataset.id);\n      if (!isClicked) {\n        setIsShowHotelier(index);\n        setIsClicked(true);\n      }\n    }\n  },\n      [isClicked, setIsShowHotelier, setIsClicked]\n    );\n\n\n  useEffect(() => {\n    if (hoteliers.length > 0) hoteliers.map(({ owner }) => dispatch(fetchHotelsById(owner)));\n    // eslint-disable-next-line\n  }, [dispatch]);\n  const handleSearch = () => {\n    const filteredHoteliers = searchQuery\n      ? hoteliers.filter(hotelier =>\n          hotelier.hotels?.some(hotel => hotel.toLowerCase().includes(searchQuery.toLowerCase()))\n        )\n      : hoteliers;\n\n    console.log(filteredHoteliers);\n  };\n\n  return (\n    <Wrapper onClick={handleClick}>\n        <input\n         type=\"text\"\n         placeholder=\"Search Hoteliers by Name\"\n         value={searchQuery}\n         onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <button type=\"button\" onClick={handleSearch}>ss</button>\n\n      {hoteliers.length > 0 &&\n        hoteliers.map(({ owner, hotels, status }, index) => (\n          <Inner\n            border={isShowHotelier === index}\n            hidden={isShowHotelier !== index && isShowHotelier !== null}\n            position={isShowHotelier !== null}\n            key={owner}\n            tabIndex={index}\n          >\n            <TextID tabIndex={index}>ID {owner}</TextID>\n            <WrapperText tabIndex={index} typePage={type}>\n              <TextContent tabIndex={index}>\n                {isLoadingHotels && <Spinner />}\n                {!isLoadingHotels &&\n                  isShowHotelier !== index &&\n                  (hotels && hotels.length > 6 ? hotels.slice(0, 6).join(' ') : hotels?.join(' '))}\n                {!isLoadingHotels &&\n                  isShowHotelier !== index &&\n                  hotels &&\n                  hotels.length > 0 &&\n                  '...'}\n                {isShowHotelier === index && type && type === 'Finance' && (\n                  <>\n                    {hotels?.join(' ')}\n                    <AccountHotelier id={owner}/>\n                  </>\n                )}\n              </TextContent>\n            </WrapperText>\n            <div style={{ marginLeft: 'auto', paddingLeft: '20px' }}>\n              {status === 'active' ? (\n                <img src={likeIcon} alt=\"like\" width=\"20px\" height=\"20px\" />\n              ) : (\n                <img src={dislikeIcon} alt=\"dislike\" width=\"20px\" height=\"20px\" />\n              )}\n            </div>\n          </Inner>\n        ))}\n    </Wrapper>\n  );\n}\n)\n\n"],"mappings":";;AAAA,SAASA,IAAI,EAAEC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAAQC,WAAW,QAAQ,aAAa;AACxC,SAAQC,eAAe,QAAQ,uCAAuC;AACtE,SAASC,cAAc,QAAQ,KAAK;AACpC,SAASC,iBAAiB,QAAQ,uCAAuC;AACzE,SAASC,OAAO,QAAQ,0BAA0B;AAClD,SAASC,KAAK,EAAEC,WAAW,EAAEC,MAAM,EAAEC,OAAO,EAAEC,WAAW,QAAQ,wBAAwB;AACzF,OAAOC,QAAQ,MAAM,sCAAsC;AAC3D,OAAOC,WAAW,MAAM,yCAAyC;AACjE,SAASC,eAAe,QAAQ,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAYrE,OAAO,MAAMC,aAA6B,gBAAAC,EAAA,eAAGtB,IAAI,CAAAuB,EAAA,GAAAD,EAAA,CAC/CE,IAAA,IAMI;EAAAF,EAAA;EAAA,IANH;IACDG,IAAI;IACJC,cAAc;IACdC,iBAAiB;IACjBC,SAAS;IACTC;EACF,CAAC,GAAAL,IAAA;EACC,MAAMM,QAAQ,GAAGxB,cAAc,CAAC,CAAC;EAC/B,MAAM;IAAEyB,SAAS;IAAEC;EAAgB,CAAC,GAAG5B,WAAW,CAACG,iBAAiB,CAAC;EACrE,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG/B,QAAQ,CAAS,EAAE,CAAC;EAC1D,MAAMgC,WAAwB,GAAGlC,WAAW,CAC1CmC,KAAK,IAAI;IACX,MAAM;MAAEC;IAAO,CAAC,GAAGD,KAAK;IACxB,IACEC,MAAM,YAAYC,cAAc,IAChCD,MAAM,YAAYE,oBAAoB,IACtCF,MAAM,YAAYG,aAAa,EAC/B;MACA,MAAMC,KAAK,GAAGC,MAAM,CAACL,MAAM,CAACM,OAAO,CAACC,EAAE,CAAC;MACvC,IAAI,CAAChB,SAAS,EAAE;QACdD,iBAAiB,CAACc,KAAK,CAAC;QACxBZ,YAAY,CAAC,IAAI,CAAC;MACpB;IACF;EACF,CAAC,EACG,CAACD,SAAS,EAAED,iBAAiB,EAAEE,YAAY,CAC7C,CAAC;EAGH3B,SAAS,CAAC,MAAM;IACd,IAAI6B,SAAS,CAACc,MAAM,GAAG,CAAC,EAAEd,SAAS,CAACe,GAAG,CAACC,KAAA;MAAA,IAAC;QAAEC;MAAM,CAAC,GAAAD,KAAA;MAAA,OAAKjB,QAAQ,CAACzB,eAAe,CAAC2C,KAAK,CAAC,CAAC;IAAA,EAAC;IACxF;EACF,CAAC,EAAE,CAAClB,QAAQ,CAAC,CAAC;EACd,MAAMmB,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,iBAAiB,GAAGjB,WAAW,GACjCF,SAAS,CAACoB,MAAM,CAACC,QAAQ;MAAA,IAAAC,gBAAA;MAAA,QAAAA,gBAAA,GACvBD,QAAQ,CAACE,MAAM,cAAAD,gBAAA,uBAAfA,gBAAA,CAAiBE,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzB,WAAW,CAACwB,WAAW,CAAC,CAAC,CAAC,CAAC;IAAA,CACzF,CAAC,GACD1B,SAAS;IAEb4B,OAAO,CAACC,GAAG,CAACV,iBAAiB,CAAC;EAChC,CAAC;EAED,oBACEhC,OAAA,CAACN,OAAO;IAACiD,OAAO,EAAE1B,WAAY;IAAA2B,QAAA,gBAC1B5C,OAAA;MACCO,IAAI,EAAC,MAAM;MACXsC,WAAW,EAAC,0BAA0B;MACtCC,KAAK,EAAE/B,WAAY;MACnBgC,QAAQ,EAAGC,CAAC,IAAKhC,cAAc,CAACgC,CAAC,CAAC7B,MAAM,CAAC2B,KAAK;IAAE;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CAAC,eACFpD,OAAA;MAAQO,IAAI,EAAC,QAAQ;MAACoC,OAAO,EAAEZ,YAAa;MAAAa,QAAA,EAAC;IAAE;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAEzDvC,SAAS,CAACc,MAAM,GAAG,CAAC,IACnBd,SAAS,CAACe,GAAG,CAAC,CAAAyB,KAAA,EAA4B9B,KAAK;MAAA,IAAhC;QAAEO,KAAK;QAAEM,MAAM;QAAEkB;MAAO,CAAC,GAAAD,KAAA;MAAA,oBACtCrD,OAAA,CAACT,KAAK;QACJgE,MAAM,EAAE/C,cAAc,KAAKe,KAAM;QACjCiC,MAAM,EAAEhD,cAAc,KAAKe,KAAK,IAAIf,cAAc,KAAK,IAAK;QAC5DiD,QAAQ,EAAEjD,cAAc,KAAK,IAAK;QAElCkD,QAAQ,EAAEnC,KAAM;QAAAqB,QAAA,gBAEhB5C,OAAA,CAACP,MAAM;UAACiE,QAAQ,EAAEnC,KAAM;UAAAqB,QAAA,GAAC,KAAG,EAACd,KAAK;QAAA;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eAC5CpD,OAAA,CAACL,WAAW;UAAC+D,QAAQ,EAAEnC,KAAM;UAACoC,QAAQ,EAAEpD,IAAK;UAAAqC,QAAA,eAC3C5C,OAAA,CAACR,WAAW;YAACkE,QAAQ,EAAEnC,KAAM;YAAAqB,QAAA,GAC1B9B,eAAe,iBAAId,OAAA,CAACV,OAAO;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAC9B,CAACtC,eAAe,IACfN,cAAc,KAAKe,KAAK,KACvBa,MAAM,IAAIA,MAAM,CAACT,MAAM,GAAG,CAAC,GAAGS,MAAM,CAACwB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GAAGzB,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEyB,IAAI,CAAC,GAAG,CAAC,CAAC,EACjF,CAAC/C,eAAe,IACfN,cAAc,KAAKe,KAAK,IACxBa,MAAM,IACNA,MAAM,CAACT,MAAM,GAAG,CAAC,IACjB,KAAK,EACNnB,cAAc,KAAKe,KAAK,IAAIhB,IAAI,IAAIA,IAAI,KAAK,SAAS,iBACrDP,OAAA,CAAAE,SAAA;cAAA0C,QAAA,GACGR,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEyB,IAAI,CAAC,GAAG,CAAC,eAClB7D,OAAA,CAACF,eAAe;gBAAC4B,EAAE,EAAEI;cAAM;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAC,CAAC;YAAA,eAC7B,CACH;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACdpD,OAAA;UAAK8D,KAAK,EAAE;YAAEC,UAAU,EAAE,MAAM;YAAEC,WAAW,EAAE;UAAO,CAAE;UAAApB,QAAA,EACrDU,MAAM,KAAK,QAAQ,gBAClBtD,OAAA;YAAKiE,GAAG,EAAErE,QAAS;YAACsE,GAAG,EAAC,MAAM;YAACC,KAAK,EAAC,MAAM;YAACC,MAAM,EAAC;UAAM;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAE5DpD,OAAA;YAAKiE,GAAG,EAAEpE,WAAY;YAACqE,GAAG,EAAC,SAAS;YAACC,KAAK,EAAC,MAAM;YAACC,MAAM,EAAC;UAAM;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAClE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA,GA7BDtB,KAAK;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA8BL,CAAC;IAAA,CACT,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEd,CAAC;EAAA,QAtFkBhE,cAAc,EACUF,WAAW;AAAA,EAsFtD,CAAC;EAAA,QAvFkBE,cAAc,EACUF,WAAW;AAAA,EAsFrD;AAAAmF,GAAA,GA/FYlE,aAA6B;AAAA,IAAAE,EAAA,EAAAgE,GAAA;AAAAC,YAAA,CAAAjE,EAAA;AAAAiE,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}